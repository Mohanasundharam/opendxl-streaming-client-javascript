<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Channel</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Channel</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Channel<span class="signature">(base, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>The <code>Channel</code> class is responsible for all communication with the
streaming service.</p>
<p>The example below demonstrates the creation of a <code>Channel</code> instance and
creating a consumer for the consumer group.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Channel"><span class="type-signature"></span>new Channel<span class="signature">(base, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>base</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Base URL at which the streaming service resides.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to use for the channel.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>auth</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="BaseChannelAuth.html">BaseChannelAuth</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Authentication object to use for
  channel requests.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>consumerGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Consumer group to subscribe the
  channel consumer to.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pathPrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Path to append to streaming service
  requests.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>consumerPathPrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    /databus/consumer-service/v1
                
                </td>
            

            <td class="description last"><p>Path to append to consumer-related requests made to the streaming service.
  Note that if <code>options.pathPrefix</code> is set to a non-empty value, the
  <code>options.pathPrefix</code> value will be appended to consumer-related requests
  instead of the <code>options.consumerPathPrefix</code> value.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>producerPathPrefix</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    /databus/cloudproxy/v1
                
                </td>
            

            <td class="description last"><p>Path
  to append to producer-related requests made to the streaming service. Note
  that if the <code>options.pathPrefix</code> parameter is set to a non-empty value, the
  <code>options.pathPrefix</code> value will be appended to producer-related requests
  instead of the <code>options.producerPathPrefix</code> value.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    latest
                
                </td>
            

            <td class="description last"><p>Offset for the next record to
  retrieve from the streaming service for the new <a href="Channel.html#consume">Channel#consume</a>
  call. Must be one of 'latest', 'earliest', or 'none'.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requestTimeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The configuration controls the
  maximum amount of time the client (consumer) will wait for the broker
  response of a request. If the response is not received before the
  request timeout elapses the client may resend the request or fail
  the request if retries are exhausted. If set to <code>null</code> or <code>undefined</code> (the
  default), the request timeout is determined automatically by the streaming
  service. Note that if a value is set for the request
  timeout, the value should exceed the <code>options.sessionTimeout</code>. Otherwise,
  the streaming service may fail to create new consumers properly. To
  ensure that the request timeout is greater than the
  <code>options.sessionTimeout</code>, values for both (or neither) of the
  <code>options.requestTimeout</code> and <code>options.sessionTimeout</code> parameters should be
  specified.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sessionTimeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The timeout (in seconds) used to
  detect channel consumer failures. The consumer sends periodic heartbeats
  to indicate its liveness to the broker. If no heartbeats are
  received by the broker before the expiration of this session
  timeout, then the broker may remove this consumer from the group.
  If set to <code>null</code> or <code>undefined</code> (the default), the session timeout is
  determined automatically by the streaming service. Note that if a value is
  set for the session timeout, the value should be less than the
  <code>options.requestTimeout</code>. Otherwise, the streaming service may fail to
  create new consumers properly. To ensure that the session timeout is
  less than the <code>options.requestTimeout</code>, values for both (or neither)
  of the <code>options.requestTimeout</code> and <code>options.sessionTimeout</code> parameters
  should be specified.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>retryOnFail</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Whether or not the channel
  will automatically retry a call which failed due to a temporary error.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>extraConfigs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Object with properties containing
  any custom configuration settings which should be sent to the streaming
  service when a consumer is created. Note that any values specified for the
  <code>options.offset</code>, <code>options.requestTimeout</code>, and/or <code>options.sessionTimeout</code>
  parameters will override the corresponding values, if specified, in the
  <code>options.extraConfigs</code> parameter.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Optional client private keys in PEM format.
  See
  <a href="https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options">https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cert</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Optional client cert chains in PEM format.
  See
  <a href="https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options">https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ca</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Optionally override the trusted CA
  certificates used to validate the streaming service. Any string can
  contain multiple PEM CAs concatenated together.
  See
  <a href="https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options">https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>passphrase</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Optional shared passphrase used for a
  single private key. See
  <a href="https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options">https://nodejs.org/api/tls.html#tls_tls_createsecurecontext_options</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rejectUnauthorized</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>If not false, the server
  certificate is verified against the list of supplied CAs. See
  <a href="https://nodejs.org/api/tls.html#tls_tls_connect_options_callback">https://nodejs.org/api/tls.html#tls_tls_connect_options_callback</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>checkServerIdentity</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>A callback function to
  be used when checking the server's hostname against the certificate.
  See
  <a href="https://nodejs.org/api/tls.html#tls_tls_connect_options_callback">https://nodejs.org/api/tls.html#tls_tls_connect_options_callback</a>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line136">line 136</a>
    </li></ul></dd>
    

    

    

    
</dl>

















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Create the channel
var channel = new Channel('http://channel-server',
  {
    auth: new ChannelAuth('http://channel-server', 'user', 'password'),
    consumerGroup: 'thegroup'
  })

// Create a new consumer on the consumer group
channel.create()</code></pre>



    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="retryOnFail"><span class="type-signature"></span>retryOnFail<span class="type-signature"></span></h4>




<div class="description">
    <p>Whether or not the channel will automatically retry a call which
failed due to a temporary error.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line208">line 208</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="commit"><span class="type-signature"></span>commit<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Commits the record offsets to the channel.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function invoked when the
  commit attempt is complete.</p>
<p>  The first parameter supplied to the callback is an <code>Error</code> object, if an
  error occurred during the commit attempt, else <code>null</code>. Possible <code>Error</code>
  types include:</p>
<ul>
<li><a href="ConsumerError.html">ConsumerError</a> - If the consumer associated with the channel
does not exist on the server and <a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to
<code>false</code>.</li>
<li><a href="TemporaryError.html">TemporaryError</a> - If the commit attempt fails
and <a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to False.</li>
<li><a href="PermanentError.html">PermanentError</a> - If the channel has been destroyed.</li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line887">line 887</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="consume"><span class="type-signature"></span>consume<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Consumes records from all the subscribed topics.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function invoked when the
  consume attempt is complete.</p>
<p>  The first parameter supplied to the callback is an <code>Error</code> object, if an
  error occurred during the consume attempt, else <code>null</code>. Possible <code>Error</code>
  types include:</p>
<ul>
<li><a href="ConsumerError.html">ConsumerError</a> - If the consumer associated with the channel
does not exist on the server and <a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to
<code>false</code>.</li>
<li><a href="TemporaryError.html">TemporaryError</a> - If the consume attempt fails
and <a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to False.</li>
<li><a href="PermanentError.html">PermanentError</a> - If the channel has been destroyed.</li>
</ul>
<p>The second parameter supplied to the callback is, for a successful consume,
an array of payloads (decoded as objects) from records returned from the
server. For a failed consume, the second parameter is <code>null</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line829">line 829</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If the channel has not been subscribed to any
  topics.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="PermanentError.html">PermanentError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    







        
            

    

    
    <h4 class="name" id="create"><span class="type-signature"></span>create<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Creates a new consumer on the consumer group.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function to invoke when the creation
  attempt has completed. The first parameter in the call to the
  results callback is an <code>Error</code> object, if an error occurred during the
  send attempt, else <code>null</code>. Possible <code>Error</code> types include:</p>
<ul>
<li><a href="TemporaryError.html">TemporaryError</a> - If the creation attempt fails and
<a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to False.</li>
<li><a href="PermanentError.html">PermanentError</a> - If the channel has been destroyed.</li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line722">line 722</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Deletes the consumer from the consumer group.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback to invoke after the consumer has
  been deleted. The first parameter supplied to the callback is an <code>Error</code>
  object, if an error occurred during the delete, else <code>null</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line1049">line 1049</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="destroy"><span class="type-signature"></span>destroy<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Destroys the channel (releases all associated resources).</p>
<p><strong>NOTE:</strong> Once the method has been invoked, no other calls should be
made to the channel.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to invoke when the channel has been
  destroyed. The first parameter supplied to the callback is an <code>Error</code>
  object, if an error occurred during the destroy, else <code>null</code>. The parameter
  will be of type <a href="TemporaryError.html">TemporaryError</a> if a consumer has previously been
  created for the channel but an attempt to delete the consumer from the
  channel fails.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line1121">line 1121</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="produce"><span class="type-signature"></span>produce<span class="signature">(payload, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Produces records to the channel.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Payload containing the records to be posted to the
  channel.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to invoke when the produce has been
  stopped. The first parameter supplied to the callback is an <code>Error</code>
  object, if an error occurred during the produce, else <code>null</code>. The parameter
  will be of type <a href="PermanentError.html">PermanentError</a> if an unsuccessful response is
  received from the streaming service for the produce attempt.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line1088">line 1088</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Resets local consumer data stored for the channel.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line704">line 704</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="run"><span class="type-signature"></span>run<span class="signature">(processCallback, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Repeatedly consume records from the subscribed topics. The supplied
<code>processCallback</code> is an array of payloads (decoded as objects) from records
returned from the server.</p>
<p>The <code>processCallback</code> should return a value of <code>true</code> in order for this
function to continue consuming additional records. For a return value of
<code>false</code> or no return value, no additional records will be consumed and this
function will return.</p>
<p>The <a href="Channel.html#stop">Channel#stop</a> method can also be called to halt an execution of
this method.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>processCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback to invoke with an array
  of payloads from records which have been consumed.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options to use for the channel.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>doneCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Callback to invoke when the run is
  complete. The first parameter supplied to the callback is an <code>Error</code>
  object, if an error occurred during the run, else <code>null</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>waitBetweenQueries</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    30
                
                </td>
            

            <td class="description last"><p>Number of seconds to wait
  between calls to consume records.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>topics</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array.&lt;String></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Topic or array of topics.
  If set to a non-empty value, the channel will be subscribed to the
  specified topics. If set to an empty value, the channel will use topics
  previously subscribed via a call to the <a href="Channel.html#subscribe">Channel#subscribe</a> method.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line946">line 946</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>If a previous run is already in progress.</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type"><a href="PermanentError.html">PermanentError</a></span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    







        
            

    

    
    <h4 class="name" id="stop"><span class="type-signature"></span>stop<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Stop an active execution of a <a href="Channel.html#run">Channel#run</a>. If no run is active, the
supplied callback is invoked immediately. If a run is active, the supplied
callback is invoked after the run has been completed.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Function to invoke when the run has been
  stopped.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line1024">line 1024</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="subscribe"><span class="type-signature"></span>subscribe<span class="signature">(topics, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Subscribes the consumer to an array of topics.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>topics</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array.&lt;String></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Topic or array of topics.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function invoked when the
  subscription attempt is complete. The first parameter in the call to the
  results callback is an <code>Error</code> object, if an error occurred during the
  send attempt, else <code>null</code>. Possible <code>Error</code> types include:</p>
<ul>
<li><a href="ConsumerError.html">ConsumerError</a> - If the consumer associated with the channel
does not exist on the server and <a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to
<code>false</code>.</li>
<li><a href="TemporaryError.html">TemporaryError</a> - If the subscription attempt fails and
<a href="Channel.html#retryOnFail">Channel#retryOnFail</a> is set to False.</li>
<li><a href="PermanentError.html">PermanentError</a> - If the channel has been destroyed.</li>
</ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="channel.js.html">channel.js</a>, <a href="channel.js.html#line775">line 775</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Channel.html">Channel</a></li><li><a href="ChannelAuth.html">ChannelAuth</a></li><li><a href="ConsumerError.html">ConsumerError</a></li><li><a href="PermanentAuthenticationError.html">PermanentAuthenticationError</a></li><li><a href="PermanentError.html">PermanentError</a></li><li><a href="StopError.html">StopError</a></li><li><a href="TemporaryAuthenticationError.html">TemporaryAuthenticationError</a></li><li><a href="TemporaryError.html">TemporaryError</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-installation.html">Library Installation</a></li><li><a href="tutorial-samples.html">Samples</a></li></ul><h3>Interfaces</h3><ul><li><a href="BaseChannelAuth.html">BaseChannelAuth</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>